<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>结算页新模板</title>
	<script src="utils/jquery-3.2.1.min.js"></script>
	<style>
		html,
		body {
			height: 100%;
			margin: 0;
		}

		body {
			background: rgb(240, 240, 240);
			display: flex;
			justify-content: center;
			align-items: center;
		}

		li {
			list-style: none;
		}

		a {
			text-decoration: none;
			color: #969696;
		}

		a:hover {
			color: #0085d0;
		}

		.test {
			width: 980px;
		}

		.cartTitle ul {
			padding: 0;
			margin: 0;
		}

		.cartTitle ul li {
			padding: 1px 10px;
			display: inline-block;
			color: #a0a0a0;
			font-size: 14px;
			margin-right: 3px;
			cursor: pointer;
		}

		.cartTitle ul .active {
			background: #0085d0;
			color: #fff;
			border-radius: 20px;
		}

		.cartContent {
            position: relative;
			text-align: center;
			margin-top: 5px;
			width: 100%;
			height: 460px;
			background: #fff;
		}

		.cartContent ul li {
			position: relative;
			margin-top: 15px;
			margin-right: 20px;
			float: left;
			width: 200px;
			height: 200px;
			border: 1px solid #ddd;
			text-align: center;
		}

		.cartContent ul li img {
			width: 150px;
			height: auto;
		}

		.cartContent ul li p {
			margin: 0;
			color: #f33;
			font-size: 16px;
			margin-bottom: 5px;
		}

		.cartContent ul li a {
			display: inline-block;
			width: 96%;
			padding: 2%;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		.cartContent .shopcart {
			position: absolute;
			bottom: 31px;
			right: 5px;
			cursor: pointer;
		}

		.cartContent .shopcart .cart-icon {
			position: absolute;
			bottom: 3px;
			right: 0;
			display: inline-block;
			width: 25px;
			height: 25px;
			background: #f99 url(image/shoppingcart.png) 4px no-repeat;
			background-size: 21px auto;
			border-radius: 50%;
			padding: 2px;
		}

		.cartContent .shopcart span {
			display: inline-block;
			width: 29px;
			height: 29px;
			line-height: 29px;
			text-align: right;
			overflow: hidden;
			color: #fff;
			background: #f99;
			border-radius: 29px;
		}

        .left,.right {
            position: absolute;
            top: 45%;
            display: none;
            width: 25px;
            height: 70px;
        }

        .left {
            left: 5px;
            background: #ccc url('image/arrow-left.png') -4px 20px no-repeat;
        }

        .right {
            right: 5px;
            background: #ccc url('image/arrow-right.png') -2px 20px no-repeat;
        }
	</style>
</head>

<body>
	<div class="test">
		<div class="cartTitle">
			<ul>
				<li class="active">猜您需要</li>
				<li>收藏商品</li>
				<li>最近浏览</li>
			</ul>
		</div>
		<div class="cartContent">
			<ul class="slides">
				<li>
					<img src="image/photo.jpg" alt="">
					<p>￥10.00</p>
					<a href="">999 感冒灵颗粒 10g*9袋 华润三九医药股份有限公司 三九</a>
					<div class="shopcart">
						<i class="cart-icon"></i>
						<span>加入购物车　</span>
					</div>
				</li>
            </ul>
            <div class="arr">
                <a href="javascript:void(0);" class="left"></a>
                <a href="javascript:void(0);" class="right"></a>
            </div>
		</div>
	</div>
	<script>
		$('document').ready(function () {
            var pageNumber = mObj.length
            var pageIndex = 1
            var pageCount = Math.ceil(pageNumber / 8)

			$('.shopcart').hover(function () {
				$('.cart-icon').css('background-color', '#f33')
				$('.cart-icon').stop().animate({ right: '75px' })
				$(this).find('span').stop().animate({ width: '99px' })
			}, function () {
				$('.cart-icon').css('background-color', '#f99')
				$('.cart-icon').stop().animate({ right: '0' })
				$(this).find('span').stop().animate({ width: '29px' })
			})
			$('.cartTitle li').each(function () {
				$(this).click(function () {
					$(this).addClass('active').siblings().removeClass('active')
				})
			})

            function controlArr(idx){
                $('.left').hide()
                $('.right').hide()
                if(idx == 1 && pageNumber>8){
                    $('.right').show()
                }
                else if(idx == pageCount && pageNumber>8){
                    $('.left').show()
                }
                else if(idx>1 && idx<pageCount){
                    $('.left').show()
                    $('.right').show()
                }
            }
            controlArr(pageIndex)

            function addLi(idx) {
                var first = (idx - 1) * 8
                var num = pageNumber - first > 8 ? 8 : pageNumber - first
                $('.slides').fadeOut(200)
                $('.slides').html('')
                controlArr(idx)

                for (var i = 1; i <= num; i++) {
                    $('.slides').append('<li>' + (first + i) + '</li>')
                }
                $('.slides').fadeIn()
            }
            addLi(pageIndex)

            $('.left').click(function () {
                pageIndex = pageIndex - 1
                console.log(pageIndex)                
                addLi(pageIndex)
            })
            $('.right').click(function () {
                pageIndex = pageIndex + 1
                console.log(pageIndex)
                addLi(pageIndex)
            })

		})
	</script>
</body>

</html>